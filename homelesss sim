
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local RunService = game:GetService("RunService")

local gui = Instance.new("ScreenGui")
gui.Name = "FeatherHubWatermark"
gui.Parent = player:WaitForChild("PlayerGui")


local watermark = Instance.new("Frame")
watermark.Size = UDim2.new(0, 160, 0, 40)
watermark.Position = UDim2.new(0, 10, 0, 10) -- Top left corner
watermark.BackgroundColor3 = Color3.fromRGB(20, 20, 25)
watermark.BorderSizePixel = 0
watermark.Parent = gui


local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 8)
corner.Parent = watermark


local shadow = Instance.new("ImageLabel")
shadow.Name = "Shadow"
shadow.Size = UDim2.new(1, 8, 1, 8)
shadow.Position = UDim2.new(0, -4, 0, -4)
shadow.BackgroundTransparency = 1
shadow.Image = "rbxassetid://1316045217"
shadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
shadow.ImageTransparency = 0.7
shadow.ScaleType = Enum.ScaleType.Slice
shadow.SliceCenter = Rect.new(10, 10, 118, 118)
shadow.Parent = watermark


local accent = Instance.new("Frame")
accent.Size = UDim2.new(0, 4, 1, -16)
accent.Position = UDim2.new(0, 8, 0, 8)
accent.BackgroundColor3 = Color3.fromRGB(80, 160, 255)
accent.BorderSizePixel = 0
accent.Parent = watermark

local accentCorner = Instance.new("UICorner")
accentCorner.CornerRadius = UDim.new(0, 2)
accentCorner.Parent = accent


local titleLabel = Instance.new("TextLabel")
titleLabel.Size = UDim2.new(1, -24, 0, 20)
titleLabel.Position = UDim2.new(0, 20, 0, 8)
titleLabel.BackgroundTransparency = 1
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.Text = "Feather Hub"
titleLabel.Font = Enum.Font.GothamBold
titleLabel.TextSize = 14
titleLabel.TextXAlignment = Enum.TextXAlignment.Left
titleLabel.Parent = watermark


local subtitleLabel = Instance.new("TextLabel")
subtitleLabel.Size = UDim2.new(1, -24, 0, 14)
subtitleLabel.Position = UDim2.new(0, 20, 0, 22)
subtitleLabel.BackgroundTransparency = 1
subtitleLabel.TextColor3 = Color3.fromRGB(200, 200, 210)
subtitleLabel.Text = "Loading..."
subtitleLabel.Font = Enum.Font.Gotham
subtitleLabel.TextSize = 10
subtitleLabel.TextXAlignment = Enum.TextXAlignment.Left
subtitleLabel.Parent = watermark


local fps = 0
local frameCount = 0
local lastTime = tick()

RunService.Heartbeat:Connect(function()
    frameCount = frameCount + 1
    local currentTime = tick()
    
    if currentTime - lastTime >= 1 then
        fps = math.floor(frameCount / (currentTime - lastTime))
        frameCount = 0
        lastTime = currentTime
        
        -- Update subtitle with FPS and ping
        local success, ping = pcall(function()
            return game:GetService("Stats").Network.ServerStatsItem["Data Ping"]:GetValue()
        end)
        
        if success and ping then
            subtitleLabel.Text = string.format("%d FPS | %d ms", fps, math.floor(ping))
        else
            subtitleLabel.Text = string.format("%d FPS", fps)
        end
    end
end)


local dragging = false
local dragInput
local dragStart
local startPos

local function update(input)
    local delta = input.Position - dragStart
    watermark.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

watermark.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = watermark.Position
        
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

watermark.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

game:GetService("UserInputService").InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        update(input)
    end
end)

-- Hover effects
watermark.MouseEnter:Connect(function()
    watermark.BackgroundColor3 = Color3.fromRGB(25, 25, 30)
end)

watermark.MouseLeave:Connect(function()
    watermark.BackgroundColor3 = Color3.fromRGB(20, 20, 25)
end)

-- Cleanup when player leaves
Players.PlayerRemoving:Connect(function(leavingPlayer)
    if leavingPlayer == player then
        gui:Destroy()
    end
end)

local SEARCH_COUNT = 10
local DELAY_BETWEEN_SEARCHES = 0.1 -- seconds
local DELAY_BETWEEN_CYCLES = 1 -- seconds

while true do
    -- Run "search the trash" multiple times
    for i = 1, SEARCH_COUNT do
        local args = {"Trash Bag"}
        game:GetService("ReplicatedStorage"):WaitForChild("TrashLoot"):FireServer(unpack(args))
        wait(DELAY_BETWEEN_SEARCHES)
    end
    
    -- Run "sell all" once
    game:GetService("ReplicatedStorage"):WaitForChild("SellAllItems"):FireServer()
    
    wait(DELAY_BETWEEN_CYCLES) -- Delay before starting the next cycle
end
